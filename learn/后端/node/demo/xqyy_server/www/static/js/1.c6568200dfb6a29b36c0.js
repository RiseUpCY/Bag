webpackJsonp([1],{"/chl":function(t,i){},DRtM:function(t,i,e){"use strict";var s={props:{datas:{type:Array,default:function(){return["http://www.cqdwq.com/UploadFile/20131017194410196.jpg"]}}},data:function(){return{currentIndex:0,allWidth:0,isDown:!1,position:{lastX:0},dragable:!1,isHide:!1,isClick:!0}},mounted:function(){var t=this;this.initWidth(),window.addEventListener("mouseup",function(){t.handleMouseUp()}),window.addEventListener("touchend",function(){t.handleMouseUp()})},methods:{hideMini:function(){this.isHide?this.$refs.wrapper.style.height="70px":this.$refs.wrapper.style.height="0px",this.isHide=!this.isHide},changeIndex:function(t){this.isClick&&(-1===t?this.currentIndex--:-2===t?this.currentIndex++:this.currentIndex=t)},initWidth:function(){this.allWidth=100*this.datas.length+4,this.$refs.ul.style.width=this.allWidth+"px",this.i=9,window.innerWidth<900&&(this.i=Math.floor(window.innerWidth/100)),this.datas.length>=this.i&&(this.dragable=!0)},handleMouseDown:function(t){this.dragable&&(this.isDown=!0);var i=0,e=/[\d-]+/g.exec(this.$refs.ul.style.transform);e&&(i=Number(e[0])),t.clientX&&(this.position.lastX=t.clientX-i),t.touches&&(this.position.lastX=t.touches[0].clientX-i),this.$refs.ul.style.transition=""},handleMouseMove:function(t){if(this.isDown){var i=void 0;t.clientX&&(i=t.clientX-this.position.lastX),t.touches&&(i=t.touches[0].clientX-this.position.lastX),this.$refs.ul.style.transform="translateX("+i+"px)",Math.abs(i)>10&&(this.isClick=!1)}},handleMouseUp:function(){var t=this;if(this.isDown){this.isDown=!1,setTimeout(function(){t.isClick=!0},20);var i=0,e=/[\d-]+/g.exec(this.$refs.ul.style.transform);e&&(i=Number(e[0]),this.goOffset(i))}},moveTo:function(t){this.$refs.ul.style.transition="all .5s",this.$refs.ul.style.transform="translateX("+t+"px)"},goOffset:function(t,i){var e=900-this.allWidth;window.innerWidth<900&&(e=window.innerWidth-this.allWidth),this.dragable&&(t>0?this.moveTo(0):t<e?this.moveTo(e):i&&this.moveTo(t))}},watch:{currentIndex:function(t){if(-1!=t)if(t!=this.datas.length){var i=this.$refs.item[t];i&&this.goOffset((window.innerWidth-100)/2-i.offsetLeft,!0)}else this.currentIndex=0;else this.currentIndex=this.datas.length-1},datas:function(){this.initWidth()}}},n={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"imgs"},[t._l(t.datas,function(i,s){return e("img",{key:s,class:["item",{"item-active":t.currentIndex===s}],attrs:{src:i,draggable:"false"}})}),t._v(" "),e("div",{ref:"wrapper",staticClass:"mini-img"},[e("ul",{ref:"ul",on:{mousedown:t.handleMouseDown,mousemove:t.handleMouseMove,touchstart:t.handleMouseDown,touchmove:t.handleMouseMove}},t._l(t.datas,function(i,s){return e("li",{key:s,ref:"item",refInFor:!0,class:["mini-item",{"mini-item-active":t.currentIndex===s}],on:{click:function(i){t.changeIndex(s)}}},[e("img",{attrs:{src:i,draggable:"false"}})])}),0)]),t._v(" "),e("div",{staticClass:"ctrl"},[e("div",{staticClass:"prev btn",on:{click:function(i){t.changeIndex(-1)}}},[t._v("上一张")]),t._v(" "),e("p",{staticClass:"num"},[t._v(t._s(t.currentIndex+1)+"/"+t._s(t.datas.length))]),t._v(" "),e("div",{staticClass:"last btn",on:{click:function(i){t.changeIndex(-2)}}},[t._v("下一张")]),t._v(" "),e("div",{staticClass:"hide btn",on:{click:t.hideMini}},[t._v(t._s(t.isHide?"显示":"隐藏"))])])],2)},staticRenderFns:[]};var a=e("VU/8")(s,n,!1,function(t){e("/chl")},"data-v-d919eb32",null).exports;i.a=a},GG8c:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("Xxa5"),n=e.n(s),a=e("exGp"),r=e.n(a),o=e("DRtM"),c=e("ok73"),l=e("gyMJ"),h=(e("2uFj"),{data:function(){return{image:{}}},mounted:function(){var t=this.$route.query,i=t.cateid,e=t.cateindex,s=t.id;i||e||s?this.getImgData(i,e,s):this.$router.back()},activated:function(){var t=this.$route.query,i=t.cateid,e=t.cateindex,s=t.id;i||e||s?this.getImgData(i,e,s):this.$router.back()},methods:{getImgData:function(t,i,e){var s=this;return r()(n.a.mark(function a(){return n.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.c)(t,i,e);case 2:s.image=n.sent;case 3:case"end":return n.stop()}},a,s)}))()},back:function(){this.$router.back()}},components:{Footer:c.a,Imgs:o.a},filters:{date:function(t){return(t=t?new Date(Number(t)):new Date(1545977032592)).toLocaleDateString().replace(/\//g,"-")}}}),d={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"img-reader"},[t._m(0),t._v(" "),e("div",{staticClass:"title-wrapper"},[t._m(1),t._v(" "),e("ul",[e("li",{staticClass:"item",on:{click:t.back}},[t._v("\n                返回\n            ")])])]),t._v(" "),e("h1",{staticClass:"tt"},[t._v(t._s(t.image.title))]),t._v(" "),e("div",{staticClass:"imgs-wrapper"},[t.image.imgUrls?e("Imgs",{attrs:{datas:t.image.imgUrls}}):t._e()],1),t._v(" "),e("div",{staticClass:"art-wrapper"},[e("div",{staticClass:"article"},[e("div",{staticClass:"cont",domProps:{innerHTML:t._s(t.image.content)}}),t._v(" "),e("div",{staticClass:"art-bottom"},[t._v("\n                "+t._s(t._f("date")(t.image.create_time))+"\n            ")])])]),t._v(" "),e("div",{staticClass:"sec-footer"},[e("Footer")],1)])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"reader-header"},[i("img",{attrs:{src:"http://images.homeinns.com/image/web/brand/home/puyin.jpg"}})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"cur-category"},[i("span",{staticClass:"iconfont icon-local"}),this._v("\n            详情阅览\n        ")])}]};var u=e("VU/8")(h,d,!1,function(t){e("rhHB")},"data-v-545192bb",null).exports;i.default=u},rhHB:function(t,i){}});
//# sourceMappingURL=1.c6568200dfb6a29b36c0.js.map