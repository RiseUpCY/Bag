webpackJsonp([1],{"6t5o":function(t,e){},DRtM:function(t,e,i){"use strict";var s={props:{datas:{type:Array,default:function(){return["http://www.cqdwq.com/UploadFile/20131017194410196.jpg"]}}},data:function(){return{currentIndex:0,allWidth:0,isDown:!1,position:{lastX:0},dragable:!1,isHide:!1,isClick:!0}},mounted:function(){var t=this;this.initWidth(),window.addEventListener("mouseup",function(){t.handleMouseUp()}),window.addEventListener("touchend",function(){t.handleMouseUp()})},methods:{hideMini:function(){this.isHide?this.$refs.wrapper.style.height="70px":this.$refs.wrapper.style.height="0px",this.isHide=!this.isHide},changeIndex:function(t){this.isClick&&(-1===t?this.currentIndex--:-2===t?this.currentIndex++:this.currentIndex=t)},initWidth:function(){this.allWidth=100*this.datas.length+4,this.$refs.ul.style.width=this.allWidth+"px",this.i=9,window.innerWidth<900&&(this.i=Math.floor(window.innerWidth/100)),this.datas.length>=this.i&&(this.dragable=!0)},handleMouseDown:function(t){this.dragable&&(this.isDown=!0);var e=0,i=/[\d-]+/g.exec(this.$refs.ul.style.transform);i&&(e=Number(i[0])),t.clientX&&(this.position.lastX=t.clientX-e),t.touches&&(this.position.lastX=t.touches[0].clientX-e),this.$refs.ul.style.transition=""},handleMouseMove:function(t){if(this.isDown){var e=void 0;t.clientX&&(e=t.clientX-this.position.lastX),t.touches&&(e=t.touches[0].clientX-this.position.lastX),this.$refs.ul.style.transform="translateX("+e+"px)",Math.abs(e)>10&&(this.isClick=!1)}},handleMouseUp:function(){var t=this;if(this.isDown){this.isDown=!1,setTimeout(function(){t.isClick=!0},20);var e=0,i=/[\d-]+/g.exec(this.$refs.ul.style.transform);i&&(e=Number(i[0]),this.goOffset(e))}},moveTo:function(t){this.$refs.ul.style.transition="all .5s",this.$refs.ul.style.transform="translateX("+t+"px)"},goOffset:function(t,e){var i=900-this.allWidth;window.innerWidth<900&&(i=window.innerWidth-this.allWidth),this.dragable&&(t>0?this.moveTo(0):t<i?this.moveTo(i):e&&this.moveTo(t))}},watch:{currentIndex:function(t){if(-1!=t)if(t!=this.datas.length){var e=this.$refs.item[t];e&&this.goOffset((window.innerWidth-100)/2-e.offsetLeft,!0)}else this.currentIndex=0;else this.currentIndex=this.datas.length-1},datas:function(){this.initWidth()}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"imgs"},[t._l(t.datas,function(e,s){return i("img",{key:s,class:["item",{"item-active":t.currentIndex===s}],attrs:{src:e,draggable:"false"}})}),t._v(" "),i("div",{ref:"wrapper",staticClass:"mini-img"},[i("ul",{ref:"ul",on:{mousedown:t.handleMouseDown,mousemove:t.handleMouseMove,touchstart:t.handleMouseDown,touchmove:t.handleMouseMove}},t._l(t.datas,function(e,s){return i("li",{key:s,ref:"item",refInFor:!0,class:["mini-item",{"mini-item-active":t.currentIndex===s}],on:{click:function(e){t.changeIndex(s)}}},[i("img",{attrs:{src:e,draggable:"false"}})])}),0)]),t._v(" "),i("div",{staticClass:"ctrl"},[i("div",{staticClass:"prev btn",on:{click:function(e){t.changeIndex(-1)}}},[t._v("上一张")]),t._v(" "),i("p",{staticClass:"num"},[t._v(t._s(t.currentIndex+1)+"/"+t._s(t.datas.length))]),t._v(" "),i("div",{staticClass:"last btn",on:{click:function(e){t.changeIndex(-2)}}},[t._v("下一张")]),t._v(" "),i("div",{staticClass:"hide btn",on:{click:t.hideMini}},[t._v(t._s(t.isHide?"显示":"隐藏"))])])],2)},staticRenderFns:[]};var a=i("VU/8")(s,n,!1,function(t){i("6t5o")},"data-v-d919eb32",null).exports;e.a=a},W6TE:function(t,e){},yiVg:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Xxa5"),n=i.n(s),a=i("exGp"),r=i.n(a),o=i("DRtM"),c=i("ok73"),l=i("gyMJ"),d={data:function(){return{image:{}}},mounted:function(){this.getImg()},methods:{getImg:function(){var t=this;return r()(n.a.mark(function e(){var i,s,a,r;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.$route.query,s=i.cateid,a=i.cateindex,e.next=3,Object(l.f)(s,a);case 3:r=e.sent,t.image=r;case 5:case"end":return e.stop()}},e,t)}))()}},components:{Footer:c.a,Imgs:o.a},filters:{date:function(t){return(t=t?new Date(Number(t)):new Date(1545977032592)).toLocaleDateString().replace(/\//g,"-")}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"img-reader"},[i("h1",{staticClass:"tt"},[t._v(t._s(t.image.title))]),t._v(" "),i("div",{staticClass:"imgs-wrapper"},[i("Imgs",{attrs:{datas:t.image.imgUrls}})],1),t._v(" "),i("div",{staticClass:"art-wrapper"},[i("div",{staticClass:"article"},[i("div",{staticClass:"cont",domProps:{innerHTML:t._s(t.image.content)}}),t._v(" "),i("div",{staticClass:"art-bottom"},[t._v("\n                "+t._s(t._f("date")(t.image.create_time))+"\n            ")])])])])},staticRenderFns:[]};var u=i("VU/8")(d,h,!1,function(t){i("W6TE")},"data-v-03c4c2e2",null);e.default=u.exports}});